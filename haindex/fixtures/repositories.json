[
  {
    "model": "haindex.repository",
    "pk": 1,
    "fields": {
      "created": "2019-02-17T13:45:09.206Z",
      "modified": "2019-02-17T13:45:09.206Z",
      "github_user": "ljmerza",
      "github_repo": "calendar-card",
      "type": 1,
      "parent_repository": null,
      "last_import": "2019-02-17T13:56:47.037Z",
      "last_commit_id": "3233d40323619b7ef79d275749ae26d50d9b6978",
      "last_push": "2019-02-14T15:21:43Z",
      "stargazers_count": 23,
      "forks_count": 5,
      "issues_count": 2,
      "webhook_id": null,
      "name": "",
      "description": "Home Assistant Lovelace UI Custom Google Calendar Card",
      "readme": "<h1>Calendar Card for Home Assistant</h1>\n<p align=\"center\">\n  <img src=\"https://i.imgur.com/86RGw5W.png\">\n</p>\n<h2>Features</h2>\n<ul>\n<li>Show the next 5 events on your Google Calendar (default set by home assistant)</li>\n<li>Set custom time format for each event</li>\n<li>Click on event to open in your Google calendar app</li>\n<li>Integrate multiple calendars</li>\n<li>Update notifications via custom_updater</li>\n<li>Click on event location to open maps app</li>\n<li>Language support</li>\n<li>Progress bar for ongoing events</li>\n</ul>\n<h2>Track Updates</h2>\n<p>This custom card can be tracked with the help of <a href=\"https://github.com/custom-components/custom_updater\" rel=\"nofollow\">custom-updater</a>.</p>\n<p>In your configuration.yaml</p>\n<pre><span class=\"nt\">custom_updater</span><span class=\"p\">:</span>\n  <span class=\"nt\">card_urls</span><span class=\"p\">:</span>\n    <span class=\"p p-Indicator\">-</span> <span class=\"l l-Scalar l-Scalar-Plain\">https://raw.githubusercontent.com/ljmerza/calendar-card/master/custom_updater.json</span>\n</pre>\n<h1>Usage</h1>\n<h2>Prerequisites</h2>\nYou should have setup Google calendar integration or Caldav integration in HomeAssistant.\n<h2>Options</h2>\n<table>\n<thead>\n<tr>\n<th>Name</th>\n<th>Type</th>\n<th>Requirement</th>\n<th>Description</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>type</td>\n<td>string</td>\n<td><strong>Required</strong></td>\n<td><code>custom:calendar-card</code></td>\n</tr>\n<tr>\n<td>title</td>\n<td>string</td>\n<td><strong>Optional</strong></td>\n<td><code>Calendar</code> Header shown at top of card</td>\n</tr>\n<tr>\n<td>numberOfDays</td>\n<td>number</td>\n<td><strong>Optional</strong></td>\n<td><code>7</code> Number of days to display from calendars</td>\n</tr>\n<tr>\n<td>entities</td>\n<td>object</td>\n<td><strong>Required</strong></td>\n<td>List of calendars to display</td>\n</tr>\n<tr>\n<td>timeFormat</td>\n<td>string</td>\n<td><strong>Optional</strong></td>\n<td><code>HH:mm</code> Format to show event time (see <a href=\"https://momentjs.com/docs/#/displaying/format/\" rel=\"nofollow\">here</a> for options)</td>\n</tr>\n<tr>\n<td>progressBar</td>\n<td>boolean</td>\n<td><strong>Optional</strong></td>\n<td><code>false</code> Adds progress bar to ongoing events</td>\n</tr></tbody></table>\n<h2>Configuration</h2>\nGo to your config directory and create a www folder. Inside the www run\n<pre>git clone https://github.com/ljmerza/calendar-card.git\n</pre>\n<p>In your ui-lovelace.yaml</p>\n<pre><span class=\"nt\">resources</span><span class=\"p\">:</span>\n  <span class=\"p p-Indicator\">-</span> <span class=\"nt\">url</span><span class=\"p\">:</span> <span class=\"l l-Scalar l-Scalar-Plain\">/local/calendar-card/calendar-card.js?v=2.1.0</span>\n    <span class=\"nt\">type</span><span class=\"p\">:</span> <span class=\"l l-Scalar l-Scalar-Plain\">js</span>\n</pre>\n<p>Add the custom card to views:</p>\n<pre><span class=\"nt\">views</span><span class=\"p\">:</span>\n  <span class=\"p p-Indicator\">-</span> <span class=\"nt\">type</span><span class=\"p\">:</span> <span class=\"l l-Scalar l-Scalar-Plain\">custom:calendar-card</span>\n    <span class=\"nt\">title</span><span class=\"p\">:</span> <span class=\"s\">&quot;My</span><span class=\"nv\"> </span><span class=\"s\">Calendar&quot;</span>\n    <span class=\"nt\">numberOfDays</span><span class=\"p\">:</span> <span class=\"l l-Scalar l-Scalar-Plain\">14</span>\n    <span class=\"nt\">progressBar</span><span class=\"p\">:</span> <span class=\"l l-Scalar l-Scalar-Plain\">true</span>\n    <span class=\"nt\">entities</span><span class=\"p\">:</span>\n      <span class=\"p p-Indicator\">-</span> <span class=\"l l-Scalar l-Scalar-Plain\">calendar.ljmerzagmailcom</span>\n</pre>\n<h2>You want more than 5 Google events?</h2>\n<pre>mkdir /config/custom_components/calendar\n<span class=\"nb\">cd</span> /config/custom_components/calendar\nwget https://raw.githubusercontent.com/home-assistant/home-assistant/dev/homeassistant/components/calendar/google.py\n</pre>\n<p>Use a text editor to change the <code>'maxResults': 5</code> in <code>google.py</code> to a number of your liking.</p>\n",
      "keywords": null,
      "author_name": "",
      "author_homepage": "",
      "author_email": "",
      "license": "",
      "files": null,
      "dependencies": []
    }
  },
  {
    "model": "haindex.repository",
    "pk": 2,
    "fields": {
      "created": "2019-02-17T13:45:38.050Z",
      "modified": "2019-02-17T13:45:38.050Z",
      "github_user": "lociii",
      "github_repo": "calendar-card",
      "type": 1,
      "parent_repository": 1,
      "last_import": "2019-02-17T13:56:45.654Z",
      "last_commit_id": "ab90304093845f4e26b27e6494f0ff31a7aaf94d",
      "last_push": "2019-02-16T19:20:34Z",
      "stargazers_count": 1,
      "forks_count": 0,
      "issues_count": 0,
      "webhook_id": null,
      "name": "Google calendar card",
      "description": "Show appointments from Google calendar in Lovelace",
      "readme": "<h1>Calendar Card for Home Assistant</h1>\n<p align=\"center\">\n  <img src=\"https://i.imgur.com/86RGw5W.png\">\n</p>\n<h2>Features</h2>\n<ul>\n<li>Show the next 5 events on your Google Calendar (default set by home assistant)</li>\n<li>Set custom time format for each event</li>\n<li>Click on event to open in your Google calendar app</li>\n<li>Integrate multiple calendars</li>\n<li>Update notifications via custom_updater</li>\n<li>Click on event location to open maps app</li>\n<li>Language support</li>\n<li>Progress bar for ongoing events</li>\n</ul>\n<h2>Track Updates</h2>\n<p>This custom card can be tracked with the help of <a href=\"https://github.com/custom-components/custom_updater\" rel=\"nofollow\">custom-updater</a>.</p>\n<p>In your configuration.yaml</p>\n<pre><span class=\"nt\">custom_updater</span><span class=\"p\">:</span>\n  <span class=\"nt\">card_urls</span><span class=\"p\">:</span>\n    <span class=\"p p-Indicator\">-</span> <span class=\"l l-Scalar l-Scalar-Plain\">https://raw.githubusercontent.com/ljmerza/calendar-card/master/custom_updater.json</span>\n</pre>\n<h1>Usage</h1>\n<h2>Prerequisites</h2>\nYou should have setup Google calendar integration or Caldav integration in HomeAssistant.\n<h2>Options</h2>\n<table>\n<thead>\n<tr>\n<th>Name</th>\n<th>Type</th>\n<th>Requirement</th>\n<th>Description</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>type</td>\n<td>string</td>\n<td><strong>Required</strong></td>\n<td><code>custom:calendar-card</code></td>\n</tr>\n<tr>\n<td>title</td>\n<td>string</td>\n<td><strong>Optional</strong></td>\n<td><code>Calendar</code> Header shown at top of card</td>\n</tr>\n<tr>\n<td>numberOfDays</td>\n<td>number</td>\n<td><strong>Optional</strong></td>\n<td><code>7</code> Number of days to display from calendars</td>\n</tr>\n<tr>\n<td>entities</td>\n<td>object</td>\n<td><strong>Required</strong></td>\n<td>List of calendars to display</td>\n</tr>\n<tr>\n<td>timeFormat</td>\n<td>string</td>\n<td><strong>Optional</strong></td>\n<td><code>HH:mm</code> Format to show event time (see <a href=\"https://momentjs.com/docs/#/displaying/format/\" rel=\"nofollow\">here</a> for options)</td>\n</tr>\n<tr>\n<td>progressBar</td>\n<td>boolean</td>\n<td><strong>Optional</strong></td>\n<td><code>false</code> Adds progress bar to ongoing events</td>\n</tr></tbody></table>\n<h2>Configuration</h2>\nGo to your config directory and create a www folder. Inside the www run\n<pre>git clone https://github.com/ljmerza/calendar-card.git\n</pre>\n<p>In your ui-lovelace.yaml</p>\n<pre><span class=\"nt\">resources</span><span class=\"p\">:</span>\n  <span class=\"p p-Indicator\">-</span> <span class=\"nt\">url</span><span class=\"p\">:</span> <span class=\"l l-Scalar l-Scalar-Plain\">/local/calendar-card/calendar-card.js?v=2.1.0</span>\n    <span class=\"nt\">type</span><span class=\"p\">:</span> <span class=\"l l-Scalar l-Scalar-Plain\">js</span>\n</pre>\n<p>Add the custom card to views:</p>\n<pre><span class=\"nt\">views</span><span class=\"p\">:</span>\n  <span class=\"p p-Indicator\">-</span> <span class=\"nt\">type</span><span class=\"p\">:</span> <span class=\"l l-Scalar l-Scalar-Plain\">custom:calendar-card</span>\n    <span class=\"nt\">title</span><span class=\"p\">:</span> <span class=\"s\">&quot;My</span><span class=\"nv\"> </span><span class=\"s\">Calendar&quot;</span>\n    <span class=\"nt\">numberOfDays</span><span class=\"p\">:</span> <span class=\"l l-Scalar l-Scalar-Plain\">14</span>\n    <span class=\"nt\">progressBar</span><span class=\"p\">:</span> <span class=\"l l-Scalar l-Scalar-Plain\">true</span>\n    <span class=\"nt\">entities</span><span class=\"p\">:</span>\n      <span class=\"p p-Indicator\">-</span> <span class=\"l l-Scalar l-Scalar-Plain\">calendar.ljmerzagmailcom</span>\n</pre>\n<h2>You want more than 5 Google events?</h2>\n<pre>mkdir /config/custom_components/calendar\n<span class=\"nb\">cd</span> /config/custom_components/calendar\nwget https://raw.githubusercontent.com/home-assistant/home-assistant/dev/homeassistant/components/calendar/google.py\n</pre>\n<p>Use a text editor to change the <code>'maxResults': 5</code> in <code>google.py</code> to a number of your liking.</p>\n",
      "keywords": "[\"google\", \"calendar\"]",
      "author_name": "Leonardo Merza",
      "author_homepage": "http://lmerza.com/",
      "author_email": "ljmerza@gmail.com",
      "license": "MIT",
      "files": "[\"calendar-card.js\"]",
      "dependencies": [
        3
      ]
    }
  },
  {
    "model": "haindex.repository",
    "pk": 3,
    "fields": {
      "created": "2019-02-17T13:45:39.525Z",
      "modified": "2019-02-17T13:45:39.525Z",
      "github_user": "thomasloven",
      "github_repo": "lovelace-card-tools",
      "type": 1,
      "parent_repository": null,
      "last_import": "2019-02-17T13:56:46.597Z",
      "last_commit_id": "f5bb8e0a1f60ae81bc0d66af28cfe92e9d2c632d",
      "last_push": "2019-02-16T19:23:45Z",
      "stargazers_count": 31,
      "forks_count": 5,
      "issues_count": 4,
      "webhook_id": null,
      "name": "",
      "description": "",
      "readme": "<h1>card-tools</h1>\n<p>This is a collection of tools to simplify creating custom cards for <a href=\"https://home-assistant.io\" rel=\"nofollow\">Home Assistant</a></p>\n<h1>IMPORTANT</h1>\n<p><code>card-tools</code> v. 0.3  and any plugins that require it works only with Home Assistant 0.86 or later.</p>\n<h2>Installation instructions</h2>\n<p>If you see &quot;Can't find card-tools. [...]&quot; in your Home Assistant UI, follow these instructions.</p>\n<p>To install <code>card-tools</code> follow <a href=\"https://github.com/thomasloven/hass-config/wiki/Lovelace-Plugins\" rel=\"nofollow\">this guide</a>.</p>\n<h2>User instructions</h2>\n<p>That's all. You don't need to do anything else.</p>\n<h2>Developer instructions</h2>\n<p><em>BREAKING CHANGES IN VERSION 0.3</em> Please read changelog below</p>\n<p><code>card-tools</code> defines a global object <code>cardTools</code> which contains some helpful functions and stuff.</p>\n<p>To make sure <code>card-tools</code> is installed, add the following line to the start of the <code>setConfig()</code> function of your custom card:</p>\n<p>To make sure <code>card-tools</code> is loaded before your plugin, wait for <code>customElements.whenDefined(&quot;card-tools&quot;)</code> to resolve.</p>\n<p>Example:</p>\n<pre><span class=\"nx\">customElements</span><span class=\"p\">.</span><span class=\"nx\">whenDefined</span><span class=\"p\">(</span><span class=\"s1\">&#39;card-tools&#39;</span><span class=\"p\">).</span><span class=\"nx\">then</span><span class=\"p\">(()</span> <span class=\"p\">=&gt;</span> <span class=\"p\">{</span>\n\n  <span class=\"c1\">// YOUR CODE GOES IN HERE</span>\n\n  <span class=\"kr\">class</span> <span class=\"nx\">MyPlugin</span> <span class=\"kr\">extends</span> <span class=\"nx\">cardTools</span><span class=\"p\">.</span><span class=\"nx\">litElement</span> <span class=\"p\">{</span>\n    <span class=\"nx\">setConfig</span><span class=\"p\">(</span><span class=\"nx\">config</span><span class=\"p\">)</span> <span class=\"p\">{</span>\n      <span class=\"k\">this</span><span class=\"p\">.</span><span class=\"nx\">name</span> <span class=\"o\">=</span> <span class=\"nx\">config</span><span class=\"p\">.</span><span class=\"nx\">name</span><span class=\"p\">;</span>\n    <span class=\"p\">}</span>\n\n    <span class=\"nx\">render</span><span class=\"p\">()</span> <span class=\"p\">{</span>\n      <span class=\"k\">return</span> <span class=\"nx\">cardTools</span><span class=\"p\">.</span><span class=\"nx\">litHtml</span><span class=\"p\">()</span><span class=\"sb\">`</span>\n<span class=\"sb\">        </span><span class=\"si\">${</span><span class=\"k\">this</span><span class=\"p\">.</span><span class=\"nx\">name</span><span class=\"si\">}</span><span class=\"sb\"></span>\n<span class=\"sb\">      `</span><span class=\"p\">;</span>\n    <span class=\"p\">}</span>\n  <span class=\"p\">}</span>\n\n  <span class=\"nx\">customElements</span><span class=\"p\">.</span><span class=\"nx\">define</span><span class=\"p\">(</span><span class=\"s2\">&quot;my-plugin&quot;</span><span class=\"p\">,</span> <span class=\"nx\">MyPlugin</span><span class=\"p\">);</span>\n<span class=\"p\">});</span> <span class=\"c1\">// END OF .then(() =&gt; {</span>\n\n<span class=\"nx\">setTimeout</span><span class=\"p\">(()</span> <span class=\"p\">=&gt;</span> <span class=\"p\">{</span>\n  <span class=\"k\">if</span><span class=\"p\">(</span><span class=\"nx\">customElements</span><span class=\"p\">.</span><span class=\"nx\">get</span><span class=\"p\">(</span><span class=\"s1\">&#39;card-tools&#39;</span><span class=\"p\">))</span> <span class=\"k\">return</span><span class=\"p\">;</span>\n  <span class=\"nx\">customElements</span><span class=\"p\">.</span><span class=\"nx\">define</span><span class=\"p\">(</span><span class=\"s1\">&#39;my-plugin&#39;</span><span class=\"p\">,</span> <span class=\"kr\">class</span> <span class=\"kr\">extends</span> <span class=\"nx\">HTMLElement</span><span class=\"p\">{</span>\n    <span class=\"nx\">setConfig</span><span class=\"p\">()</span> <span class=\"p\">{</span> <span class=\"k\">throw</span> <span class=\"k\">new</span> <span class=\"nb\">Error</span><span class=\"p\">(</span><span class=\"s2\">&quot;Can&#39;t find card-tools. See https://github.com/thomasloven/lovelace-card-tools&quot;</span><span class=\"p\">);}</span>\n  <span class=\"p\">});</span>\n<span class=\"p\">},</span> <span class=\"mi\">2000</span><span class=\"p\">);</span>\n</pre>\n<p>The <code>setTimeout</code> block at the end will make your element display an error message if <code>card-tools</code> is not found. Make sure the element name is the same in both <code>customElements.define()</code> calls.</p>\n<p>The following functions are defined:</p>\n<table>\n<thead>\n<tr>\n<th>Name</th>\n<th>v &gt;=</th>\n<th>Description</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td><code>cardTools.v()</code></td>\n<td>0.1</td>\n<td>Current <code>card-tools</code> version</td>\n</tr>\n<tr>\n<td><code>cardTools.checkVersion(v)</code></td>\n<td>0.1</td>\n<td>Check that the current <code>card-tools</code> version is at least <code>v</code></td>\n</tr>\n<tr>\n<td><code>cardTools.hass()</code></td>\n<td>0.1</td>\n<td>Returns A <code>hass</code> state object. Useful for plugins that are <em>not</em> custom cards. If you need it, you'll know it</td>\n</tr>\n<tr>\n<td><code>cardTool.fireEvent(event, detail)</code></td>\n<td>0.1</td>\n<td>Fire lovelace event <code>event</code> with options <code>detail</code></td>\n</tr>\n<tr>\n<td><code>cardTools.litElement()</code></td>\n<td>0.1</td>\n<td>A reference to the LitElement base class.</td>\n</tr>\n<tr>\n<td><code>cardTools.litHtml()</code></td>\n<td>0.1</td>\n<td>A reference to the litHtml template function (requires Home Assistant 0.84 or later)</td>\n</tr>\n<tr>\n<td><code>cardTools.createCard(config)</code></td>\n<td>0.1</td>\n<td>Creates and sets up a lovelace card based on <code>config</code></td>\n</tr>\n<tr>\n<td><code>cardTools.createElement(config)</code></td>\n<td>0.1</td>\n<td>Creates and sets up a <code>picture-elements</code> element based on <code>config</code></td>\n</tr>\n<tr>\n<td><code>cardTools.createEntityRow(config)</code></td>\n<td>0.1</td>\n<td>Creates and sets up an <code>entities</code> row based on <code>config</code></td>\n</tr>\n<tr>\n<td><code>cardTools.deviceID()</code></td>\n<td>0.1</td>\n<td>Kind of unique and kind of persistent identifier for the browser viewing the page</td>\n</tr>\n<tr>\n<td><code>cardTools.moreInfo(entity)</code></td>\n<td>0.1</td>\n<td>Brings up the <code>more-info</code> dialog for the specified <code>entity</code> id</td>\n</tr>\n<tr>\n<td><code>cardTools.longPress(element)</code></td>\n<td>0.1</td>\n<td>Bind <code>element</code> to the long-press handler of lovelace</td>\n</tr>\n<tr>\n<td><code>cardTools.hasTemplate(text)</code></td>\n<td>0.2</td>\n<td>Check if <code>text</code> contains a simple state template</td>\n</tr>\n<tr>\n<td><code>cardTools.parseTemplate(text, [error])</code></td>\n<td>0.2</td>\n<td>Parse a simple state template and return results</td>\n</tr>\n<tr>\n<td><code>cardTools.args()</code></td>\n<td>0.3</td>\n<td>Returns URL parameters of the script from <code>resources:</code></td>\n</tr>\n<tr>\n<td><code>cardTools.localize(key)</code></td>\n<td>0.3</td>\n<td>Returns translations of certains strings to the users language</td>\n</tr></tbody></table>\n<blockquote>\n<p>Another way to use the <code>card-tools</code> is to just copy the function you want, and paste it into your card. It requires a bit of more work, but may be more user friendly.</p>\n</blockquote>\n<h3>v and checkVersion</h3>\n<p>Those functions are just there to make sure the user has the right version of <code>card-tools</code>. I may add more functions later, and then you can make sure that those are supported by the version the user has.\nI recommend adding a check as soon as possible, such as in the <code>setConfig()</code> function of a custom card/element/entity row.</p>\n<pre><span class=\"nx\">setConfig</span><span class=\"p\">(</span><span class=\"nx\">config</span><span class=\"p\">)</span> <span class=\"p\">{</span>\n  <span class=\"nx\">cardTools</span><span class=\"p\">.</span><span class=\"nx\">checkVersion</span><span class=\"p\">(</span><span class=\"mf\">0.1</span><span class=\"p\">);</span>\n  <span class=\"p\">...</span>\n</pre>\n<blockquote>\n<p>For information: I plan to increase the version number when I add functions. Not for bug fixes.</p>\n</blockquote>\n<h3>hass</h3>\n<p>This is provided for plugins that <em>aren't</em> cards, elements or entity rows. For those three kinds, the hass object is kindly provided to you by the whatever loads your element, but if you wish to write something that doesn't have a representation in the DOM, this can give you access to all of Home Assistants power anyway.</p>\n<pre>  <span class=\"p\">...</span>\n  <span class=\"nx\">greeting</span><span class=\"p\">.</span><span class=\"nx\">innerHTML</span> <span class=\"o\">=</span> <span class=\"sb\">`Hi there, </span><span class=\"si\">${</span><span class=\"nx\">cardTools</span><span class=\"p\">.</span><span class=\"nx\">hass</span><span class=\"p\">().</span><span class=\"nx\">user</span><span class=\"p\">.</span><span class=\"nx\">name</span><span class=\"si\">}</span><span class=\"sb\">`</span><span class=\"p\">;</span>\n  <span class=\"nx\">cardTools</span><span class=\"p\">.</span><span class=\"nx\">hass</span><span class=\"p\">().</span><span class=\"nx\">connection</span><span class=\"p\">.</span><span class=\"nx\">subscribeEvents</span><span class=\"p\">((</span><span class=\"nx\">event</span><span class=\"p\">)</span> <span class=\"p\">=&gt;</span> <span class=\"p\">{</span><span class=\"nx\">console</span><span class=\"p\">.</span><span class=\"nx\">log</span><span class=\"p\">(</span><span class=\"s2\">&quot;A service was called in Home Assistant&quot;</span><span class=\"p\">)},</span> <span class=\"s1\">&#39;call-service&#39;</span><span class=\"p\">);</span>\n</pre>\n<h3>fireEvent</h3>\n<p>This is mainly used as a helper for some other functions of <code>cardTools</code>, but it could be useful to fire a lovelace event sometime, such as <code>&quot;config-refresh&quot;</code> perhaps? Explore!</p>\n<h3>litElement and litHtml</h3>\n<p>Currently, the Home Assistant frontend is being converted to LitElement based elements, rather than Polymer based, since those are faster and easier to use. If you wish to make your element LitElement based, those may help.</p>\n<h3>createCard, createElement, createEntityRow</h3>\n<p>Currently, custom elements can be used in three places in Lovelace; as cards, as elements in a <code>picture-elements</code> card or as rows in an <code>entities</code> card.</p>\n<p>Those functions creates a card, element or row safely and cleanly from a config object. They handle custom elements and automatically picks the most suitable row for an entity. In short, it's mainly based on - and works very similar to - how Lovelace handles those things natively.</p>\n<pre><span class=\"kr\">const</span> <span class=\"nx\">myElement</span> <span class=\"o\">=</span> <span class=\"nx\">cardTools</span><span class=\"p\">.</span><span class=\"nx\">createElement</span><span class=\"p\">({</span>\n  <span class=\"nx\">type</span><span class=\"o\">:</span> <span class=\"s2\">&quot;state-icon&quot;</span><span class=\"p\">,</span>\n  <span class=\"nx\">entity</span><span class=\"o\">:</span> <span class=\"s2\">&quot;light.bed_light&quot;</span><span class=\"p\">,</span>\n  <span class=\"nx\">hold_action</span><span class=\"o\">:</span> <span class=\"p\">{</span><span class=\"nx\">action</span><span class=\"o\">:</span> <span class=\"s2\">&quot;toggle&quot;</span><span class=\"p\">},</span>\n<span class=\"p\">});</span>\n</pre>\n<blockquote>\n<p>There's also a <code>cardTools.createThing(thing, config)</code> which is a helper function for those three. You'll probably never need to access it directly, but it might be good to know that it's there...</p>\n</blockquote>\n<h3>deviceID</h3>\n<p>This can be used to uniquely identify the device connected to Lovelace. Or actually, the device-browser combination.</p>\n<p>It generates a random number, and stores it in the browsers local storage. That means it will stay around for quite a while.</p>\n<p>It's kind of hard to explain, but as an example I use this to make browsers usable as media players in <a href=\"https://githb.com/thomasloven/lovelace-player\" rel=\"nofollow\">lovelace-player</a>. In short, a <code>media</code>-<code>deviceID</code> pair is sent to every browser currently viewing the lovelace UI, but only if the <code>deviceId</code> matches <code>cardTools.deviceID()</code> is the <code>media</code> played. That way, I can make a sound play only on my ipad, even if I have the same page open on my computer.</p>\n<p>I'm sure this can have lots of uses.</p>\n<p>The device ID is stored in a key called <code>lovelace-player-device-id</code> (for historical reasons).</p>\n<h3>moreInfo</h3>\n<p>This can be used to open the more-info dialog for an entity.</p>\n<pre><span class=\"nx\">render</span><span class=\"p\">()</span> <span class=\"p\">{</span>\n  <span class=\"k\">return</span> <span class=\"nx\">cardTools</span><span class=\"p\">.</span><span class=\"nx\">litHtml</span><span class=\"sb\">`</span>\n<span class=\"sb\">  &lt;paper-button</span>\n<span class=\"sb\">  @click=&quot;</span><span class=\"si\">${</span><span class=\"nx\">cardTools</span><span class=\"p\">.</span><span class=\"nx\">moreInfo</span><span class=\"p\">(</span><span class=\"s2\">&quot;light.bed_light&quot;</span><span class=\"p\">);</span><span class=\"si\">}</span><span class=\"sb\">&quot;</span>\n<span class=\"sb\">  &gt;</span>\n<span class=\"sb\">  Click me!</span>\n<span class=\"sb\">  &lt;/paper-button&gt;</span>\n<span class=\"sb\">  `</span><span class=\"p\">;</span>\n<span class=\"p\">}</span>\n</pre>\n<h3>longpress</h3>\n<p>Some elements in Lovelace can perform two different actions when they are clicked and clicked-and-held. This lets you give this capability to any element.</p>\n<p>Once an element has been bound to longpress, it will be able to receive <code>ha-click</code> and <code>ha-hold</code> events.</p>\n<pre><span class=\"nx\">render</span><span class=\"p\">()</span> <span class=\"p\">{</span>\n  <span class=\"k\">return</span> <span class=\"nx\">cardTools</span><span class=\"p\">.</span><span class=\"nx\">litHtml</span><span class=\"sb\">`</span>\n<span class=\"sb\">  &lt;paper-button</span>\n<span class=\"sb\">  @click=&quot;</span><span class=\"si\">${</span><span class=\"nx\">cardTools</span><span class=\"p\">.</span><span class=\"nx\">moreInfo</span><span class=\"p\">(</span><span class=\"s2\">&quot;light.bed_light&quot;</span><span class=\"p\">);</span><span class=\"si\">}</span><span class=\"sb\">&quot;</span>\n<span class=\"sb\">  @ha-click=&quot;</span><span class=\"si\">${</span><span class=\"nx\">console</span><span class=\"p\">.</span><span class=\"nx\">log</span><span class=\"p\">(</span><span class=\"s1\">&#39;I was clicked&#39;</span><span class=\"p\">)</span><span class=\"si\">}</span><span class=\"sb\">&quot;</span>\n<span class=\"sb\">  @ha-hold=&quot;</span><span class=\"si\">${</span><span class=\"nx\">console</span><span class=\"p\">.</span><span class=\"nx\">log</span><span class=\"p\">(</span><span class=\"s1\">&#39;I was held&#39;</span><span class=\"p\">)</span><span class=\"si\">}</span><span class=\"sb\">&quot;</span>\n<span class=\"sb\">  &gt;</span>\n<span class=\"sb\">  Click or hold me!</span>\n<span class=\"sb\">  &lt;/paper-button&gt;</span>\n<span class=\"sb\">  `</span><span class=\"p\">;</span>\n<span class=\"p\">}</span>\n\n<span class=\"nx\">firstUpdated</span><span class=\"p\">()</span> <span class=\"p\">{</span>\n  <span class=\"nx\">cardTools</span><span class=\"p\">.</span><span class=\"nx\">longpress</span><span class=\"p\">(</span><span class=\"k\">this</span><span class=\"p\">.</span><span class=\"nx\">shadowRoot</span><span class=\"p\">.</span><span class=\"nx\">querySelector</span><span class=\"p\">(</span><span class=\"s1\">&#39;paper-button&#39;</span><span class=\"p\">));</span>\n<span class=\"p\">}</span>\n</pre>\n<h3>hasTemplate and parseTemplate</h3>\n<p><code>cardTools.parseTemplate</code> lets you parse a user specified template like <code>[[ light.bed_light.state ]]</code> and return the result.</p>\n<p>Two things are important:</p>\n<ul>\n<li>Template must start with <code>[[&lt;space&gt;</code> and end with <code>&lt;space&gt;]]</code></li>\n<li>This is not in any way the same kind of template as used in the Home Assistant configuration</li>\n</ul>\n<p>The templates are parsed by reading one step at a time from the <code>hass.states</code> object.\nThus, the first part must be an entity with domain and id, e.g. <code>light.bed_light</code>, <code>media_player.bedroom</code> etc.\nNext is one of:</p>\n<ul>\n<li><code>entity_id</code></li>\n<li><code>state</code></li>\n<li><code>attributes.&lt;attribute&gt;</code></li>\n<li><code>last_changed</code></li>\n<li><code>last_updated</code></li>\n</ul>\n<p>The function replaces any template found in the supplied string with the requested value, or an error message on failure.</p>\n<p>The optional argument <code>error</code> is a string that replaces the default error message.</p>\n<p><code>cardTools.hasTemplate</code> just checks if a string contains a simple state template.</p>\n<h3>args</h3>\n<p>Lovelace plugins are imported by placing a script URL in the <code>resources</code> section of <code>ui-lovelace.yaml</code> or the Raw editor. This URL can be followed by query parameters.</p>\n<pre><code>resources:\n  - url: /local/my-plugin.js?height=5&amp;flag&amp;width=10&amp;\n    type: js\n</code></pre>\n<p>If called from <code>my-plugin.js</code> <code>cardTools.args()</code> will return the javascript object <code>{height: 5, flag: undefined, width: 10}</code>.</p>\n<h3>localize</h3>\n<p>Returns the translation of certain strings (defined by string keys) to the users language.</p>\n<p>Examples of keys:</p>\n<ul>\n<li><code>&quot;state.light.on&quot;</code></li>\n<li><code>&quot;state.binary_sensor.garage_door.off&quot;</code></li>\n<li><code>&quot;domain.fan&quot;</code></li>\n<li><code>&quot;attribute.weather.humidity&quot;</code></li>\n</ul>\n<p>More can be found by exploring <code>cardTools.hass().resources</code>.</p>\n<h2>Changelog</h2>\n<p><em>0.2</em></p>\n<ul>\n<li>Added <code>parseTemplate()</code> function</li>\n</ul>\n<p><em>0.3</em></p>\n<ul>\n<li><code>LitElement</code> renamed to <code>litElement</code>.</li>\n<li><code>cardTools.litElement()</code>, <code>cardTools.litHtml</code> and <code>cardtools.deviceID()</code> are now functions.</li>\n<li>Updated recommendation for how to check if <code>card-tools</code> exists.</li>\n<li>Added <code>hasTemplate()</code> to documentation.</li>\n<li>Added <code>args()</code> function.</li>\n<li>Added <code>localize()</code> function.</li>\n</ul>\n<hr>\n",
      "keywords": null,
      "author_name": "",
      "author_homepage": "",
      "author_email": "",
      "license": "",
      "files": null,
      "dependencies": []
    }
  }
]
